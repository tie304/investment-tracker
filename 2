package database

import (
	"time"
	"encoding/json"
)

type Asset struct {
	Id        int    // auto generated by orm
	Ticker    string `pg:",unique" json: "id"`
	Price     float64
	Qty       float64   `pg:"default:0"`
	CreatedAt time.Time `pg:"default:now()" json:"created_at"`
	UpdatedAt time.Time `pg:"default:now()" json:"updated_at"`
}

func (a Asset) ToJson() []byte {
	jData, err := json.Marshal(a)
	if err != nil {
		panic("Could not convert JSON")
	}
	return jData

}
